<div class="dashboard-container">
  <h2 class="dashboard-title">Booking Management</h2>
  <p class="dashboard-subtitle">
    Manage all your bookings in one place with easy access to accept or reject
    requests.
  </p>

  <div class="no-bookings" *ngIf="allRequest.length === 0">
    <p>No booking requests available.</p>
  </div>

  <div class="booking-grid" *ngIf="allRequest.length > 0">
    <div
      class="booking-card"
      *ngFor="let item of allRequest"
      [@fadeOut]="removedRequests[item._id] ? 'out' : 'in'"
    >
      <div class="card-header">
        <i class="bi bi-person-circle icon"></i>
        <h3 class="card-title">{{ item.userName }}</h3>
      </div>

      <div class="card-body">
        <div class="card-detail">
          <i class="bi bi-airplane icon"></i>
          <span
            >Destination:
            <span class="highlight">{{ item.destination }}</span></span
          >
          <span class="expense"
            >Rs.
            <span class="highlight">{{
              item.expense | number : "1.0-0"
            }}</span></span
          >
        </div>

        <div class="card-detail">
          <i class="bi bi-calendar icon"></i>
          <span
            >Start:
            <span class="highlight">{{
              item.startDate | date : "MMM d, y"
            }}</span></span
          >
          <span
            >End:
            <span class="highlight">{{
              item.endDate | date : "MMM d, y"
            }}</span></span
          >
        </div>

        <div class="card-detail">
          <i class="bi bi-file-text icon"></i>
          <span
            >Purpose: <span class="highlight">{{ item.purpose }}</span></span
          >
        </div>
      </div>

      <div class="card-footer">
        <button (click)="onAccept(item._id)" class="action-btn accept-btn">
          <i class="bi bi-check-circle"></i>
          <span>Accept</span>
        </button>
        <button (click)="onReject(item._id)" class="action-btn reject-btn">
          <i class="bi bi-x-circle"></i>
          <span>Reject</span>
        </button>
      </div>
    </div>
  </div>
</div>
